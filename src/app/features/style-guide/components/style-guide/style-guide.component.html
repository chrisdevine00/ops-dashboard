<!-- Header -->
<mat-toolbar color="primary" class="toolbar">
  <button mat-icon-button routerLink="/" title="Back to Layout Picker">
    <lucide-icon name="arrow-left" [size]="20"></lucide-icon>
  </button>
  <span class="title">Style Guide</span>
  <span class="subtitle">Design Tokens & Component Reference</span>
  <span class="spacer"></span>
  <span class="version">v1.0</span>
</mat-toolbar>

<div class="container">
  <mat-tab-group animationDuration="200ms">
    <!-- ==========================================
         FOUNDATIONS TAB
         ========================================== -->
    <mat-tab label="Foundations">
      <div class="tab-content">
        <!-- Colors Section -->
        <section class="section" id="colors">
          <h2 class="section-title">Colors</h2>
          <p class="section-description">
            Color tokens are organized in three tiers: <strong>Primitives</strong> (raw values),
            <strong>Semantic</strong> (purpose-based), and <strong>Component</strong> (specific usage).
          </p>

          <!-- Brand Colors -->
          <div class="color-group">
            <h3 class="group-title">{{ brandColors.title }}</h3>
            <p class="group-description">{{ brandColors.description }}</p>
            <div class="color-grid">
              <div class="color-swatch" *ngFor="let color of brandColors.colors">
                <div class="swatch" [style.background-color]="color.hex"></div>
                <div class="swatch-info">
                  <span class="swatch-name">{{ color.name }}</span>
                  <code class="swatch-variable" (click)="copyToClipboard(color.variable)" title="Click to copy">
                    {{ color.variable }}
                    <lucide-icon *ngIf="copiedVariable === color.variable" name="check" [size]="12"></lucide-icon>
                  </code>
                  <span class="swatch-hex">{{ color.hex }}</span>
                  <span class="swatch-usage" *ngIf="color.usage">{{ color.usage }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Blue Ramp -->
          <div class="color-group">
            <h3 class="group-title">{{ blueRamp.title }}</h3>
            <p class="group-description">{{ blueRamp.description }}</p>
            <div class="color-ramp">
              <div class="ramp-swatch" *ngFor="let color of blueRamp.colors"
                   [style.background-color]="color.hex"
                   [title]="color.variable + ': ' + color.hex">
                <span class="ramp-label">{{ color.name.split(' ')[1] }}</span>
              </div>
            </div>
          </div>

          <!-- Orange Ramp -->
          <div class="color-group">
            <h3 class="group-title">{{ orangeRamp.title }}</h3>
            <p class="group-description">{{ orangeRamp.description }}</p>
            <div class="color-ramp">
              <div class="ramp-swatch" *ngFor="let color of orangeRamp.colors"
                   [style.background-color]="color.hex"
                   [title]="color.variable + ': ' + color.hex">
                <span class="ramp-label" [class.dark-text]="['50', '100', '200', '300'].includes(color.name.split(' ')[1])">
                  {{ color.name.split(' ')[1] }}
                </span>
              </div>
            </div>
          </div>

          <!-- Neutral Colors -->
          <div class="color-group">
            <h3 class="group-title">{{ neutralColors.title }}</h3>
            <p class="group-description">{{ neutralColors.description }}</p>
            <div class="color-ramp">
              <div class="ramp-swatch" *ngFor="let color of neutralColors.colors"
                   [style.background-color]="color.hex"
                   [title]="color.variable + ': ' + color.hex">
                <span class="ramp-label dark-text">{{ color.name.replace('Warm Gray ', '').replace('Warm ', '') }}</span>
              </div>
            </div>
          </div>

          <!-- Secondary Palette with Mini-Ramps -->
          <div class="color-group">
            <h3 class="group-title">Secondary Palette</h3>
            <p class="group-description">Extended brand colors with dark/base/light variants for data visualization and semantic states.</p>
            <div class="secondary-ramps">
              <div class="secondary-ramp-item" *ngFor="let ramp of secondaryRamps">
                <div class="ramp-header">
                  <span class="ramp-name">{{ ramp.name }}</span>
                  <span class="ramp-usage">{{ ramp.usage }}</span>
                </div>
                <div class="mini-ramp">
                  <div class="mini-swatch" *ngFor="let color of ramp.colors"
                       [style.background-color]="color.hex"
                       [title]="color.variable + ': ' + color.hex"
                       (click)="copyToClipboard(color.variable)">
                    <span class="mini-label">{{ color.name }}</span>
                    <span class="mini-hex">{{ color.hex }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Status Colors -->
          <div class="color-group">
            <h3 class="group-title">{{ statusColors.title }}</h3>
            <p class="group-description">{{ statusColors.description }}</p>
            <div class="status-colors">
              <div class="status-item" *ngFor="let color of statusColors.colors">
                <div class="status-swatch" [style.background-color]="color.hex"></div>
                <div class="status-info">
                  <strong>{{ color.name }}</strong>
                  <code>{{ color.variable }}</code>
                  <span>{{ color.usage }}</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Typography Section -->
        <section class="section" id="typography">
          <h2 class="section-title">Typography</h2>
          <p class="section-description">
            Typography tokens define font families, sizes, weights, and line heights.
          </p>

          <!-- Font Families -->
          <div class="typography-group">
            <h3 class="group-title">Font Families</h3>
            <div class="font-families">
              <div class="font-family-item" *ngFor="let font of fontFamilies">
                <div class="font-sample" [style.font-family]="font.value">
                  The quick brown fox jumps over the lazy dog
                </div>
                <div class="font-info">
                  <strong>{{ font.name }}</strong>
                  <code (click)="copyToClipboard(font.variable)">{{ font.variable }}</code>
                  <span class="font-value">{{ font.value }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Font Sizes -->
          <div class="typography-group">
            <h3 class="group-title">Font Sizes</h3>
            <div class="font-sizes">
              <div class="font-size-item" *ngFor="let size of fontSizes">
                <span class="size-sample" [style.font-size]="size.value">Aa</span>
                <span class="size-name">{{ size.name }}</span>
                <code class="size-variable" (click)="copyToClipboard(size.variable)">{{ size.variable }}</code>
                <span class="size-value">{{ size.value }}</span>
              </div>
            </div>
          </div>

          <!-- Font Weights -->
          <div class="typography-group">
            <h3 class="group-title">Font Weights</h3>
            <div class="font-weights">
              <div class="font-weight-item" *ngFor="let weight of fontWeights">
                <span class="weight-sample" [style.font-weight]="weight.value">Sample Text</span>
                <span class="weight-name">{{ weight.name }}</span>
                <code (click)="copyToClipboard(weight.variable)">{{ weight.variable }}</code>
                <span class="weight-value">{{ weight.value }}</span>
              </div>
            </div>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Spacing Section -->
        <section class="section" id="spacing">
          <h2 class="section-title">Spacing</h2>
          <p class="section-description">
            Spacing scale based on 4px base unit. Use these tokens for consistent margins, padding, and gaps.
          </p>

          <div class="spacing-grid">
            <div class="spacing-item" *ngFor="let space of spacingScale">
              <div class="spacing-visual" [style.width]="space.pixels" [style.height]="space.pixels"></div>
              <div class="spacing-info">
                <code (click)="copyToClipboard(space.variable)">{{ space.variable }}</code>
                <span class="spacing-value">{{ space.value }} ({{ space.pixels }})</span>
              </div>
            </div>
          </div>

          <!-- Border Radius -->
          <div class="typography-group">
            <h3 class="group-title">Border Radius</h3>
            <div class="radius-grid">
              <div class="radius-item" *ngFor="let radius of borderRadii">
                <div class="radius-visual" [style.border-radius]="radius.value"></div>
                <div class="radius-info">
                  <span class="radius-name">{{ radius.name }}</span>
                  <code (click)="copyToClipboard(radius.variable)">{{ radius.variable }}</code>
                  <span>{{ radius.value }}</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Elevation Section -->
        <section class="section" id="elevation">
          <h2 class="section-title">Elevation</h2>
          <p class="section-description">
            Shadow tokens for creating depth and visual hierarchy.
          </p>

          <div class="elevation-grid">
            <div class="elevation-item" *ngFor="let elevation of elevations">
              <div class="elevation-visual" [style.box-shadow]="elevation.value"></div>
              <div class="elevation-info">
                <strong>{{ elevation.name }}</strong>
                <code (click)="copyToClipboard(elevation.variable)">{{ elevation.variable }}</code>
              </div>
            </div>
          </div>
        </section>
      </div>
    </mat-tab>

    <!-- ==========================================
         COMPONENTS TAB
         ========================================== -->
    <mat-tab label="Components">
      <div class="tab-content">
        <!-- Toolbar -->
        <section class="section">
          <h2 class="section-title">Toolbar</h2>
          <p class="section-description">Application header with navigation and actions.</p>

          <div class="component-preview">
            <mat-toolbar color="primary" class="preview-toolbar">
              <button mat-icon-button><lucide-icon name="home" [size]="20"></lucide-icon></button>
              <span class="preview-title">Sample Toolbar</span>
              <span class="spacer"></span>
              <button mat-button>Action</button>
            </mat-toolbar>
          </div>

          <div class="token-table">
            <h4>Component Tokens</h4>
            <table>
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Reference</th>
                  <th>Resolved Value</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let token of toolbarTokens">
                  <td><code>{{ token.token }}</code></td>
                  <td>{{ token.value }}</td>
                  <td><code>{{ token.resolved }}</code></td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Cards -->
        <section class="section">
          <h2 class="section-title">Cards</h2>
          <p class="section-description">Content containers with optional headers.</p>

          <div class="component-preview card-preview">
            <mat-card class="preview-card">
              <div class="preview-card-header">
                <span class="preview-card-title">Card Title</span>
                <span class="preview-card-subtitle">Subtitle</span>
              </div>
              <mat-card-content>
                <p>Card content goes here. Cards provide a consistent container for grouping related information.</p>
              </mat-card-content>
            </mat-card>
          </div>

          <div class="token-table">
            <h4>Component Tokens</h4>
            <table>
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Reference</th>
                  <th>Resolved Value</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let token of cardTokens">
                  <td><code>{{ token.token }}</code></td>
                  <td>{{ token.value }}</td>
                  <td><code>{{ token.resolved }}</code></td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Buttons -->
        <section class="section">
          <h2 class="section-title">Buttons</h2>
          <p class="section-description">Interactive elements for actions.</p>

          <div class="component-preview button-preview">
            <button mat-raised-button color="primary">Primary</button>
            <button mat-raised-button color="accent">Accent</button>
            <button mat-stroked-button color="primary">Outlined</button>
            <button mat-button color="primary">Text</button>
            <button mat-icon-button color="primary">
              <lucide-icon name="home" [size]="20"></lucide-icon>
            </button>
            <button mat-fab color="primary">
              <lucide-icon name="home" [size]="24"></lucide-icon>
            </button>
            <button mat-mini-fab color="accent">
              <lucide-icon name="home" [size]="18"></lucide-icon>
            </button>
          </div>

          <div class="token-table">
            <h4>Component Tokens</h4>
            <table>
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Reference</th>
                  <th>Resolved Value</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let token of buttonTokens">
                  <td><code>{{ token.token }}</code></td>
                  <td>{{ token.value }}</td>
                  <td><code>{{ token.resolved }}</code></td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Form Fields -->
        <section class="section">
          <h2 class="section-title">Form Fields</h2>
          <p class="section-description">Input components for user data entry.</p>

          <div class="component-preview form-preview">
            <mat-form-field appearance="outline">
              <mat-label>Outlined Input</mat-label>
              <input matInput placeholder="Enter text">
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Filled Input</mat-label>
              <input matInput placeholder="Enter text">
            </mat-form-field>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- Tables -->
        <section class="section">
          <h2 class="section-title">Tables</h2>
          <p class="section-description">Data tables with sorting and selection.</p>

          <div class="component-preview table-preview">
            <table mat-table [dataSource]="[{name: 'System A', serial: 'SN001', status: 'Active'}, {name: 'System B', serial: 'SN002', status: 'Idle'}]">
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let row">{{ row.name }}</td>
              </ng-container>
              <ng-container matColumnDef="serial">
                <th mat-header-cell *matHeaderCellDef>Serial</th>
                <td mat-cell *matCellDef="let row">{{ row.serial }}</td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let row">{{ row.status }}</td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="['name', 'serial', 'status']"></tr>
              <tr mat-row *matRowDef="let row; columns: ['name', 'serial', 'status'];"></tr>
            </table>
          </div>
        </section>
      </div>
    </mat-tab>

    <!-- ==========================================
         CHARTS TAB
         ========================================== -->
    <mat-tab label="Charts">
      <div class="tab-content">
        <!-- Chart Colors -->
        <section class="section">
          <h2 class="section-title">Chart Color Palette</h2>
          <p class="section-description">
            Sequential colors for data visualization. Use these in order for multi-series charts.
          </p>

          <div class="chart-colors">
            <div class="chart-color-item" *ngFor="let color of chartColors.colors; let i = index">
              <div class="chart-color-swatch" [style.background-color]="color.hex"></div>
              <div class="chart-color-info">
                <strong>{{ color.name }}</strong>
                <code (click)="copyToClipboard(color.variable)">{{ color.variable }}</code>
                <span class="chart-color-hex">{{ color.hex }}</span>
                <span class="chart-color-usage">{{ color.usage }}</span>
              </div>
            </div>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- ECharts Configuration -->
        <section class="section">
          <h2 class="section-title">ECharts Theme Configuration</h2>
          <p class="section-description">
            Key ECharts options aligned with our design tokens.
          </p>

          <div class="code-block">
            <h4>Gantt Chart Lane Colors</h4>
            <pre><code>// Lane background colors (alternating)
backgroundColor: index % 2 === 0 ? '#FAFAFA' : '#FFFFFF'

// Grid configuration
grid: &#123;
  top: 30,
  bottom: 50,
  left: 120,
  right: 20
&#125;</code></pre>
          </div>

          <div class="code-block">
            <h4>Axis Styling</h4>
            <pre><code>xAxis: &#123;
  axisLine: &#123; lineStyle: &#123; color: '#D2CECE' &#125; &#125;,
  axisLabel: &#123;
    color: '#696E90',
    fontSize: 11,
    fontFamily: 'Inter'
  &#125;,
  splitLine: &#123; lineStyle: &#123; color: '#ECEAEA' &#125; &#125;
&#125;</code></pre>
          </div>

          <div class="code-block">
            <h4>Tooltip Styling</h4>
            <pre><code>tooltip: &#123;
  backgroundColor: 'rgba(6, 10, 61, 0.95)',
  borderColor: 'transparent',
  textStyle: &#123;
    color: '#F8F4F1',
    fontFamily: 'Inter'
  &#125;
&#125;</code></pre>
          </div>
        </section>

        <mat-divider></mat-divider>

        <!-- State Colors -->
        <section class="section">
          <h2 class="section-title">State & Event Colors</h2>
          <p class="section-description">
            Semantic colors used in Gantt charts for different states and events.
          </p>

          <div class="state-colors">
            <div class="state-color-row">
              <div class="state-swatch" style="background-color: #00C9A7"></div>
              <span class="state-name">Running / Active</span>
              <code>$bd-nebula</code>
            </div>
            <div class="state-color-row">
              <div class="state-swatch" style="background-color: #FFC300"></div>
              <span class="state-name">Idle / Waiting</span>
              <code>$bd-eclipse</code>
            </div>
            <div class="state-color-row">
              <div class="state-swatch" style="background-color: #FF6B61"></div>
              <span class="state-name">Error / Alert</span>
              <code>$bd-infrared</code>
            </div>
            <div class="state-color-row">
              <div class="state-swatch" style="background-color: #2995C5"></div>
              <span class="state-name">Processing</span>
              <code>$bd-comet</code>
            </div>
            <div class="state-color-row">
              <div class="state-swatch" style="background-color: #BFB8B8"></div>
              <span class="state-name">Offline / Disabled</span>
              <code>$bd-warm-gray-500</code>
            </div>
          </div>
        </section>
      </div>
    </mat-tab>

    <!-- ==========================================
         TOKENS TAB
         ========================================== -->
    <mat-tab label="Token Reference">
      <div class="tab-content">
        <section class="section">
          <h2 class="section-title">Token Architecture</h2>
          <p class="section-description">
            Our design tokens follow a three-tier architecture for maintainability and theming flexibility.
          </p>

          <div class="architecture-diagram">
            <div class="tier">
              <h4>Tier 1: Primitives</h4>
              <p>Raw color values, base measurements</p>
              <code>_bd-primitives.scss</code>
              <div class="tier-example">$bd-blue-500: #0446ED</div>
            </div>
            <div class="tier-arrow">→</div>
            <div class="tier">
              <h4>Tier 2: Semantic</h4>
              <p>Purpose-based references</p>
              <code>_bd-semantic.scss</code>
              <div class="tier-example">$color-brand-primary: $bd-blue-500</div>
            </div>
            <div class="tier-arrow">→</div>
            <div class="tier">
              <h4>Tier 3: Component</h4>
              <p>Component-specific assignments</p>
              <code>_bd-component.scss</code>
              <div class="tier-example">$toolbar-bg: $color-brand-primary</div>
            </div>
          </div>
        </section>

        <mat-divider></mat-divider>

        <section class="section">
          <h2 class="section-title">File Structure</h2>
          <div class="file-tree">
            <pre>src/styles/
├── tokens/
│   ├── _bd-primitives.scss    # Raw color values
│   ├── _bd-semantic.scss      # Purpose-based tokens
│   └── _bd-component.scss     # Component-specific tokens
├── _variables.scss            # Spacing, shadows, breakpoints
├── _typography.scss           # Font configuration
├── _charts.scss               # ECharts color exports
└── _theme.scss                # Angular Material theme</pre>
          </div>
        </section>

        <mat-divider></mat-divider>

        <section class="section">
          <h2 class="section-title">Usage Guidelines</h2>
          <div class="guidelines">
            <div class="guideline">
              <h4>Do</h4>
              <ul>
                <li>Use semantic tokens in components (e.g., <code>$color-brand-primary</code>)</li>
                <li>Reference component tokens when available (e.g., <code>$toolbar-bg</code>)</li>
                <li>Keep primitive tokens in the tokens folder only</li>
              </ul>
            </div>
            <div class="guideline">
              <h4>Don't</h4>
              <ul>
                <li>Use raw hex values directly in component styles</li>
                <li>Reference primitive tokens in component SCSS</li>
                <li>Create new tokens without adding to the appropriate tier</li>
              </ul>
            </div>
          </div>
        </section>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
